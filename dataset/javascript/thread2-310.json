[["createECMA5Shims", "\nfunction createECMA5Shims() {\n  \n  <Function.prototype.bind>\n  if (!Function.prototype.bind) {\n    var slice = Array.prototype.slice;\n    Function.prototype.bind = function bind(that) { \n      var target = this;\n      if (typeof target.apply !== \"function\"\n      || typeof target.call !== \"function\")\n      return new TypeError();\n      var args = slice.call(arguments);\n\n      function bound() {\n\n        if (this instanceof bound) {\n\n          var self = Object.create(target.prototype);\n          target.apply(self, args.concat(slice.call(arguments)));\n          return self;\n        } else {\n          return target.call.apply(target, args.concat(slice\n            .call(arguments)));\n        }\n\n      }\n      bound.length = (typeof target === \"function\" ? Math.max(\n      target.length - args.length, 0) : 0);\n      return bound;\n    };\n  }\n  </Function.prototype.bind>\n\n  <Array.isArray>\n  if (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n  }\n  </Array.isArray>\n\n  <Array.prototype.forEach>\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(block, thisObject) {\n      var len = +this.length;\n      for ( var i = 0; i < len; i++) {\n        if (i in this) {\n          block.call(thisObject, this[i], i, this);\n        }\n      }\n    };\n  }\n  </Array.prototype.forEach>\n\n  <Array.prototype.map>\n  if (!Array.prototype.map) {\n    Array.prototype.map = function map(fun ) {\n      var len = +this.length;\n      if (typeof fun !== \"function\")\n        throw new TypeError();\n\n      var res = new Array(len);\n      var thisp = arguments[1];\n      for ( var i = 0; i < len; i++) {\n        if (i in this)\n          res[i] = fun.call(thisp, this[i], i, this);\n      }\n\n      return res;\n    };\n  }\n  </Array.prototype.map>\n\n  <Array.prototype.filter>\n  if (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(block ) {\n      var values = [];\n      var thisp = arguments[1];\n      for ( var i = 0; i < this.length; i++)\n        if (block.call(thisp, this[i]))\n          values.push(this[i]);\n        return values;\n    };\n  }\n  </Array.prototype.filter>\n\n  <Array.prototype.every>\n  if (!Array.prototype.every) {\n    Array.prototype.every = function every(block ) {\n      var thisp = arguments[1];\n      for ( var i = 0; i < this.length; i++)\n        if (!block.call(thisp, this[i]))\n          return false;\n        return true;\n    };\n  }\n  </Array.prototype.every>\n\n  <Array.prototype.some>\n  if (!Array.prototype.some) {\n    Array.prototype.some = function some(block ) {\n      var thisp = arguments[1];\n      for ( var i = 0; i < this.length; i++)\n        if (block.call(thisp, this[i]))\n          return true;\n        return false;\n    };\n  }\n  </Array.prototype.some>\n\n  <Array.prototype.reduce>\n  if (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun ) {\n      var len = +this.length;\n      if (typeof fun !== \"function\")\n        throw new TypeError();\n\n      \n      if (len === 0 && arguments.length === 1)\n        throw a TypeError();\n\n      var i = 0;\n      if (arguments.length >= 2) {\n        var rv = arguments[1];\n      } else {\n        do {\n          if (i in this) {\n            rv = this[i++];\n            break;\n          }\n\n          \n          if (++i >= len)\n            throw new TypeError();\n        } while (true);\n      }\n\n      for (; i < len; i++) {\n        if (i in this)\n          rv = fun.call(null, rv, this[i], i, this);\n      }\n\n      return rv;\n    };\n  }\n  </Array.prototype.reduce>\n\n  <Array.prototype.reduceRight>\n  if (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun ) {\n      var len = +this.length;\n      if (typeof fun !== \"function\")\n        throw new TypeError();\n\n      \n      if (len === 0 && arguments.length === 1)\n        throw new TypeError();\n\n      var rv, i = len - 1;\n      if (arguments.length >= 2) {\n        rv = arguments[1];\n      } else {\n        do {\n          if (i in this) {\n            rv = this[i--];\n            break;\n          }\n\n          \n          if (--i < 0)\n            throw new TypeError();\n        } while (true);\n      }\n\n      for (; i >= 0; i--) {\n        if (i in this)\n          rv = fun.call(null, rv, this[i], i, this);\n      }\n\n      return rv;\n    };\n  }\n  </Array.prototype.reduceRight>\n\n  <Array.prototype.indexOf>\n  if (!Array.prototype.indexOf) {\n    Array.prototype.indexOf = function indexOf(value ) {\n      var length = this.length;\n      if (!length)\n        return -1;\n      var i = arguments[1] || 0;\n      if (i >= length)\n        return -1;\n      if (i < 0)\n        i += length;\n      for (; i < length; i++) {\n        if (!(i in this))\n          continue;\n        if (value === this[i])\n          return i;\n      }\n      return -1;\n    };\n  }\n  </Array.prototype.indexOf>\n\n  <Array.prototype.lastIndexOf>\n  if (!Array.prototype.lastIndexOf) {\n    Array.prototype.lastIndexOf = function lastIndexOf(value) {\n      var length = this.length;\n      if (!length)\n        return -1;\n      var i = arguments[1] || length;\n      if (i < 0)\n        i += length;\n      i = Math.min(i, length - 1);\n      for (; i >= 0; i--) {\n        if (!(i in this))\n          continue;\n        if (value === this[i])\n          return i;\n      }\n      return -1;\n    };\n  }\n  </Array.prototype.lastIndexOf>\n\n  <Date.now>\n  if (!Date.now) {\n    Date.now = function now() {\n      return new Date().getTime();\n    };\n  }\n  </Date.now>\n}\n"], ["setVersion", "\nfunction setVersion(versionType, versionFull) {\n  versionType.version = versionFull;\n  var versionArray = versionFull.split(\".\");\n  if (versionArray.length > 0) {\n    versionArray = versionArray.reverse();\n    versionType.major = versionArray.pop();\n    if (versionArray.length > 0) {\n      versionType.minor = versionArray.pop();\n      if (versionArray.length > 0) {\n        versionArray = versionArray.reverse();\n        versionType.patch = versionArray.join(\".\");\n      } else {\n        versionType.patch = \"0\";\n      }\n    } else {\n      versionType.minor = \"0\";\n    }\n  } else {\n    versionType.major = \"0\";\n  }\n}\n"], ["existsEvaluator", "\nfunction existsEvaluator(condition, userAttributes) {\n  var userValue = userAttributes[condition.name];\n  return typeof userValue !== 'undefined' && userValue !== null;\n}\n"], ["getInitOptions", "\nasync function getInitOptions(args) {\n  const { debug, endpoint, host, port, profile, region } = args\n  const options = { debug, host, port, profile, region }\n  <getAWSEndpoint>\n  options.endpoint = getAWSEndpoint({ endpoint })\n  </getAWSEndpoint>\n  <getAWSCredentials>\n  options.credentials = await getAWSCredentials()\n  </getAWSCredentials>\n  return options\n}\n"], ["replaceWithMultiple", "\nfunction replaceWithMultiple(nodes) {\n  this.resync();\n\n  nodes = this._verifyNodeList(nodes);\n  t.inheritLeadingComments(nodes[0], this.node);\n  t.inheritTrailingComments(nodes[nodes.length - 1], this.node);\n  this.node = this.container[this.key] = null;\n  this.insertAfter(nodes);\n  <dangerouslyRemove>\n  if (!this.node) this.dangerouslyRemove();\n  </dangerouslyRemove>\n}\n"], ["main", "\nfunction main() {\n  <windowTopSetup>\n  var topWindow = window.top;\n  var isTop = window.top === window;\n  </windowTopSetup>\n\n  <parseOptions>\n  var options = null;\n  try {\n    var optionsEl = topWindow.document.querySelector('x-wtf-options');\n    if (optionsEl) {\n      \n      options = JSON.parse(optionsEl.text);\n    }\n  } catch (e) {\n    \n  }\n  </parseOptions>\n\n  <fetchOptions>\n  if (!options) {\n    options = fetchOptions(topWindow);\n  }\n  if (!options) {\n    return;\n  }\n  </fetchOptions>\n\n  <optionElementSetup>\n  if (!optionsEl) {\n    try {\n      optionsEl = document.createElement('x-wtf-options');\n      optionsEl.text = JSON.stringify(options);\n      topWindow.document.documentElement.appendChild(optionsEl);\n    } catch (e) {\n      \n    }\n  }\n  </optionElementSetup>\n\n  <instrumentationSetup>\n  if (options['__instrumented__']) {\n    \n    if (isTop) {\n      \n      \n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', chrome.extension.getURL('third_party/falafel.js'), false);\n      xhr.send();\n      var falafelSource = xhr.responseText;\n      xhr = new XMLHttpRequest();\n      xhr.open('GET', chrome.extension.getURL('wtf-process.js'), false);\n      xhr.send();\n      var processSource = xhr.responseText;\n      var blob = new Blob([\n        falafelSource,\n        processSource\n      ], {\n        type: 'application/javascript'\n      });\n      var blobUrl = URL.createObjectURL(blob);\n      options['wtf.instrumentation.blob'] = blobUrl;\n\n      injectScriptFile(chrome.extension.getURL('third_party/falafel.js'));\n      injectScriptFile(chrome.extension.getURL('wtf-process.js'));\n      injectScriptFile(chrome.extension.getURL('wtf-call-tracing.js'));\n    }\n    injectScriptFunction(function(options) {\n      \n      try {\n        window.top.wtfi.prepare(options, window);\n      } catch (e) {\n      }\n    }, [\n      options\n    ]);\n  } else {\n    \n    \n    if (isTop) {\n      var traceScriptUrl =\n        chrome.extension.getURL('wtf_trace_web_js_compiled.js');\n      injectScriptFunction(function(traceScriptUrl) {\n        window.WTF_TRACE_SCRIPT_URL = traceScriptUrl;\n      }, [traceScriptUrl]);\n      injectScriptFile(traceScriptUrl);\n    }\n    injectScriptFunction(function(options) {\n      \n      try {\n        window.top.wtf.trace.prepare(options, window);\n      } catch (e) {\n      }\n    }, [\n      options\n    ]);\n\n    if (isTop) {\n      \n      var addons = injectAddons(options['wtf.addons'] || []);\n      \n      injectScriptFunction(startTracing, [\n        addons\n      ]);\n    }\n  }\n  </instrumentationSetup>\n\n  <setupCommunication>\n  if (isTop) {\n    setupCommunications();\n  }\n  </setupCommunication>\n}\n"], ["ActionButton", "\nfunction ActionButton(options, permissionConf) {\n  <initializationCheck>\n  var that = this;\n  if (!options.handlerId) {\n    throw new Error(\"Handler is not defined in Action button\");\n  }\n\n  if (!options.actions || options.actions.length === 0) {\n    throw new Error(\"Actions are not defined in Action button\");\n  }\n  </initializationCheck>\n\n  this.permissionConf = permissionConf;\n\n  var handlerNode = $(\"#\" + options.handlerId);\n\n  this.handlerNode = handlerNode;\n  this.options = options\n\n  handlerNode.attr(\"href\", \"#\");\n  handlerNode.addClass(\"btn dropdown-toggle\");\n  handlerNode.attr(\"data-toggle\", \"dropdown\");\n  handlerNode.html(handlerNode.html() + ' <span class=\"caret\"><span>');\n\n  if (options.buttonType) {\n    handlerNode.addClass(\"btn-\" + options.buttonType);\n  }\n\n  if (options.buttonSize) {\n    handlerNode.addClass(\"btn-\" + options.buttonSize);\n  }\n\n  this._renderParent();\n  <bindingClickEvent>\n  handlerNode.click(function (e) {\n    var options = that.options;\n    if(that.permissionConf){\n      var conf = that.permissionConf;\n      var permissionActions = _.pluck(options.actions, 'permissionAction');\n      Rocket.Plugin.isActionsAuthorized(conf.modelId, conf.modelName, conf.permissionSchemaKey, permissionActions, function(response){\n        if(response.success == true){\n          that.getPermission = function(action){\n            return response[action];\n          }\n        }\n        that._render();\n        that._bindEvents();\n\n        \n        var parent = $(that.parent);\n        parent.parent().removeClass(\"open\");\n        parent.addClass(\"open\");\n      });\n    }else{\n      that._render();\n      that._bindEvents();\n    }\n\n  });\n  </bindingClickEvent>\n\n  that.getPermission = function(){\n    return true;\n  };\n}\n"], ["AudioCodecCheck", "\nfunction(encoders, cb) {\n  var unavailable;\n  \n  <AudioCodecUnavailableCheck>\n  unavailable = self._outputs.reduce(function(cdcs, output) {\n    var acodec = output.audio.find('-acodec', 1);\n    if (acodec && acodec[0] !== 'copy') {\n      if (!(acodec[0] in encoders) || encoders[acodec[0]].type !== 'audio') {\n        cdcs.push(acodec[0]);\n      }\n    }\n\n    return cdcs;\n  }, []);\n  </AudioCodecUnavailableCheck>\n\n  <AudioCodecErrorHandling>\n  if (unavailable.length === 1) {\n    return cb(new Error('Audio codec ' + unavailable[0] + ' is not available'));\n  } else if (unavailable.length > 1) {\n    return cb(new Error('Audio codecs ' + unavailable.join(', ') + ' are not available'));\n  }\n  </AudioCodecErrorHandling>\n\n  <VideoCodecUnavailableCheck>\n  unavailable = self._outputs.reduce(function(cdcs, output) {\n    var vcodec = output.video.find('-vcodec', 1);\n    if (vcodec && vcodec[0] !== 'copy') {\n      if (!(vcodec[0] in encoders) || encoders[vcodec[0]].type !== 'video') {\n        cdcs.push(vcodec[0]);\n      }\n    }\n\n    return cdcs;\n  }, []);\n  </VideoCodecUnavailableCheck>\n\n  <VideoCodecErrorHandling>\n  if (unavailable.length === 1) {\n    return cb(new Error('Video codec ' + unavailable[0] + ' is not available'));\n  } else if (unavailable.length > 1) {\n    return cb(new Error('Video codecs ' + unavailable.join(', ') + ' are not available'));\n  }\n  </VideoCodecErrorHandling>\n\n  cb();\n}\n"], ["FileInput", "\nfunction() {\n  var runtime = this.getRuntime();\n  \n  <DestroyRuntime>\n  if (runtime) {\n    runtime.exec.call(this, 'FileInput', 'destroy');\n    this.disconnectRuntime();\n  }\n  </DestroyRuntime>\n\n  <DestroyFiles>\n  if (Basic.typeOf(this.files) === 'array') {\n    \n    Basic.each(this.files, function(file) {\n      file.destroy();\n    });\n  } \n  </DestroyFiles>\n  this.files = null;\n}\n"], ["UpnpDevice", "\nfunction (controlPoint, uuid, location, desc, localAddress) {\n  EventEmitter.call(this);\n\n  if (TRACE) {\n    logger.info({\n      method: \"UpnpDevice\",\n      uuid: uuid,\n    }, \"new device object\");\n  }\n  this.controlPoint = controlPoint;\n\n  <DeviceInitialization>\n  this.uuid = uuid;\n  this.udn = desc.UDN[0];\n\n  this.forgotten = false\n  this.last_seen = (new Date()).getTime();\n\n  this.location = location;\n\n  this.deviceType = desc.deviceType ? desc.deviceType[0] : null;\n  this.friendlyName = desc.friendlyName ? desc.friendlyName[0] : null;\n  this.manufacturer = desc.manufacturer ? desc.manufacturer[0] : null;\n  this.manufacturerUrl = desc.manufacturerURL ? desc.manufacturerURL[0] : null;\n  this.modelNumber = desc.modelNumber ? desc.modelNumber[0] : null;\n  this.modelDescription = desc.modelDescription ? desc.modelDescription[0] : null;\n  this.modelName = desc.modelName ? desc.modelName[0] : null;\n  this.modelUrl = desc.modelURL ? desc.modelURL[0] : null;\n  this.softwareVersion = desc.softwareVersion ? desc.softwareVersion[0] : null;\n  this.hardwareVersion = desc.hardwareVersion ? desc.hardwareVersion[0] : null;\n  this.serialNum = desc.serialNum ? desc.serialNum[0] : null;\n\n  var u = url.parse(this.location);\n  this.host = u.hostname;\n  this.port = u.port;\n\n  this.localAddress = localAddress;\n\n  this.devices = {}; \n\n  this.services = {};\n  </DeviceInitialization>\n\n  <HandleDeviceInfo>\n  this._handleDeviceInfo(desc);\n  </HandleDeviceInfo>\n\n  if (seend[this.uuid] === undefined) {\n    seend[this.uuid] = true;\n    logger.info({\n      method: \"UpnpDevice\",\n      device: {\n        loction: this.location,\n        uuid: this.uuid,\n        deviceType: this.deviceType,\n        friendlyName: this.friendlyName,\n        manufacturer: this.manufacturer,\n        manufacturerUrl: this.manufacturerURL,\n        modelNumber: this.modelNumber,\n        modelDescription: this.modelDescription,\n        modelName: this.modelName,\n        modelUrl: this.modelURL,\n      }\n    }, \"previously unseen UPnP device\");\n  }\n  \n  \n  \n  \n  \n}\n"], ""]